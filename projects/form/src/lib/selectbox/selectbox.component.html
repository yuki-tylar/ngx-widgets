<div 
class="selectbox-container"
[ngClass]="[darkClass, withValidatorClass]"
(clickOutside)="onClickOutside($event)" 
>

  <button class="selectbox rounded color-bg color-border-secondary"
  (click)="toggleExpand(null, true)" 
  >
    <span *ngIf="!_controller.isSelected">Select</span>
    <span *ngIf="_controller.isSelected">{{_controller.value}}</span>
    
    <div class="indicator color-border-indicator"
    [ngClass]="{expanded: _expanded}"
    ></div>
  </button>

  <ul class="selections color-border-secondary bg-primary"
  [@slidein]="_stateSelection"
  >
    <li *ngFor="let option of _controller.options; let i = index;">
      <button [focus]="(_idxOptionFocused == i)"
      class="color-bg color-text"
      (click)="select(i)"
      [ngClass]="[(isOptionFocused(i)? 'active' : ''), colorClass]"
      (keydown)="focusNextOption($event)">{{option.label}}
      </button>
    </li>
  </ul>
  <p class="error" *ngIf="_controller.isDirty && !_controller.isValid">{{_controller.errorMessage}}</p>  
</div>  